<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title> Registro Alquiler </title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
</h:head>
<h:body>
    <div class="container">
        <h:form id="cliente_al_form">
            <p:dataTable id="alquilerDT" var="alquiler" value="#{AlquilerItemsBean.getCliente().rentados}"
                         rows="10" paginator="true" paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         rowsPerPageTemplate="5" >
                <f:facet name="header">Registros de Alquiler</f:facet>
                <p:column headerText="Id">
                    <h:outputText value="#{alquiler.item.id}"/>
                </p:column>
                <p:column headerText="Nombre">
                    <h:outputText value="#{alquiler.item.nombre}"/>
                </p:column>
                <p:column headerText="Descripcion">
                    <h:outputText value="#{alquiler.item.descripcion}"/>
                </p:column>
                <p:column headerText="Precio">
                    <h:outputText value="#{alquiler.item.precio}"/>
                </p:column>
                <p:column headerText="Fecha Inicio">
                    <h:outputText value="#{alquiler.fechainiciorenta}"/>
                </p:column>
                <p:column headerText="Fecha Fin">
                    <h:outputText value="#{alquiler.fechafinrenta}"/>
                </p:column>
                <p:column headerText="Multa">
                    <h:outputText value="#{AlquilerItemsBean.consultarMulta(alquiler.item.id)}"/>
                </p:column >
            </p:dataTable>
            <h:panelGrid columns ="1" cellpadding="5">
                <f:facet name="header" >
                    Registrar Item
                </f:facet>

                    <p:outputLabel for='@next' value="Ingrese Id Item" />
                    <p:inputText  id= "item" type="String" binding="#{id}"/>


                    <p:outputLabel for='@next'  value="Ingrese el numero de dÃ­as a alquilar" />
                    <p:inputText  id= "numdias" type="String" binding="#{dias}" />

                    <p:outputLabel value="Costo del alquiler"/>
                    <h:outputText value="#{AlquilerItemsBean.getCosto()}"/>

                <p:commandButton update="cliente_al_form" value="Registrar"   actionListener="#{AlquilerItemsBean.registrarAlquiler(id.value,dias.value)}"  action="registrocliente?faces-redirect = true"  class="Button" style="margin-top: 10%;">
                <p:commandButton update="cliente_al_form" value="Consultar Costo" actionListener="#{AlquilerItemsBean.consultarCosto(id.value,dias.value)}" class="Button" style="margin-top: 10%;"/>

                </p:commandButton>
            </h:panelGrid>
        </h:form>
        
    </div>
</h:body>
</html>